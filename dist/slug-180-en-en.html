<html>
<head>
    <title>Beatty Series and Sums over Rationals</title>
    <link rel="stylesheet" type="text/css" href="/css/style.css" />
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]},
      processEscapes: true,
      menuSettings: { inTabOrder: false },
      "AssistiveMML": {
         disabled: false,
         styles: {
            ".MJX_Assistive_MathML": {
                position:"absolute!important",
                clip: (MathJax.Hub.Browser.isMSIE && (document.documentMode||0) < 8 ?
                    "rect(1px 1px 1px 1px)" : "rect(1px, 1px, 1px, 1px)"),
                padding: "1px 0 0 0!important",
                border: "0!important",
                height: "1px!important",
                width: "1px!important",
                overflow: "hidden!important",
                display:"block!important"
            }
        }
      }
    });
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, type=text/html" charset="UTF-8">
    <link rel="stylesheet" href="/css/style.css">
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>
    <!-- Cloudflare Web Analytics -->
    <script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "5b8562dcfaa5413ba2aea8294b9d585e"}'></script><!-- End Cloudflare Web Analytics -->
</head>
<body>
    <h3>Beatty Series and Sums over Rationals</h3>

<p>The exact value of the <strong>geometric series</strong> with ratio $x$ is well-known and easy to derive:</p>

<p>
<script type="math/tex; mode=display">\sum_{n=1}^\infty x^n = \frac{x}{1-x}</script>
</p>

<p>which converges for $|x|&lt;1$. Recently I’ve been playing around with a similar type of series whose summand decreases <em>almost</em> geometrically, but with a twist. For example, consider the following series:</p>

<p>
<script type="math/tex; mode=display">\sum_{n=1}^\infty x^{\lfloor \alpha n\rfloor} = \space ?</script>
</p>

<p>where $\alpha$ is some positive real constant, and the $\lfloor \cdot \rfloor$ denotes the floor or “greatest integer” function. When $\alpha\in \mathbb N$, this simply reduces to a geometric series, because $\lfloor \alpha n\rfloor = \alpha n$ when $\alpha$ is a natural number. Similarly, when $\alpha\in\mathbb Q$, it’s not quite a geometric series, but it can be reduced to a constant times a geometric series with a bit of casework. However, when $\alpha$ is irrational, this series is frustratingly difficult to calculate, and I haven’t been able to compute in closed-form a single non-trivial series of this form with $\alpha\notin \mathbb Q$ and $x\ne 0$.</p>

<p>Despite this difficulty, I’ve managed to come up with some interesting non-trivial identities relating series of this form to other series involving the expression $\lfloor \alpha n\rfloor$, which I’ll derive in this post.</p>

<h4>The easy rational case <a id=“toc-section-1" class="toc-section”></h4>

<p>Let’s start by considering an example. Suppose $\alpha = 4/3$. Then the series in question is</p>

<p>
<script type="math/tex; mode=display">\sum_{n=1}^\infty x^{\lfloor 4n/3\rfloor}  = x + x^2 + x^4 + x^5 + x^6 + x^8 + x^9 + x^{10} + x^{12} + ...</script>
</p>

<p>The sequence of terms $x,x^2,x^4,x^5,...$ is not quite geometric, because the sequence of exponents $1,2,4,5,...$ doesn’t increase by the same value each time. In particular, the finite differences of this sequence are $+1,+2,+1,+1,+2,...$. The finite differences aren’t <em>constant</em>, but they <em>are</em> periodic, which allows us to rewrite the series in the following form by grouping sets of 3 consecutive terms together and factoring:</p>

<p>
<script type="math/tex; mode=display">\sum_{n=1}^\infty x^{\lfloor 4n/3\rfloor}  = (x + x^2 + x^5) + x^4(x + x^2 + x^4) + x^8(x + x^2 + x^5) + ...</script>
</p>

<p>or, equivalently,</p>

<p>
<script type="math/tex; mode=display">\sum_{n=1}^\infty x^{\lfloor 4n/3\rfloor} = (x+x^2+x^5)(1+x^4+x^8+x^{12}+...)</script>
</p>

<p>The infinite series in parentheses on the RHS <em>is</em> a geometric series, and we may evaluate it readily using our formula for the sum of a geometric series. This yields the following closed form formula for our series:</p>

<p>
<script type="math/tex; mode=display">\sum_{n=1}^\infty x^{\lfloor 4n/3\rfloor} = \frac{x+x^2+x^5}{1-x^4}</script>
</p>

<p>We can easily generalize this technique for $\alpha=p/q$ an arbitrary positive rational number in simplest form (that is, such that $p,q$ are coprime). In this case, we will be able to factor the sum in the following way:</p>

<p>
<script type="math/tex; mode=display">\sum_{n=1}^\infty x^{\lfloor pn/q\rfloor} = P(x)(1+x^p+x^{2p}+...)</script>
</p>

<p>where the polynomial $P(x)$ is given by the partial sum</p>

<p>
<script type="math/tex; mode=display">P(x) =\sum_{n=1}^q x^{\lfloor pn/q\rfloor}</script>
</p>

<p>Using our formula for the geometric series again, we may deduce the following:</p>

<p>
<script type="math/tex; mode=display">\bbox[lightgray,10px]{\sum_{n=1}^\infty x^{\lfloor pn/q\rfloor} =\frac{1}{1-x^p}\sum_{n=1}^q x^{\lfloor pn/q\rfloor}}</script>
</p>

<p>Piece of cake! Now, why can’t we apply a similar factoring trick when $\alpha$ is irrational? The problem is that the exponent $\lfloor pn/q\rfloor$ increases by the same amount whenever $n$ increases by $+q$, meaning that although the terms do not decreasing geometrically, the groups consisting of $q$ consecutive terms <em>do</em> decrease geometrically. But the finite differences of $\lfloor \alpha n\rfloor$ behave erratically (i.e. aperiodically) when $\alpha$ is irrational, making factoring impossible. For instance, here are the numbers $\lfloor n\sqrt{2}\rfloor$ and their finite differences:</p>

<p>
<script type="math/tex; mode=display">1,2,4,5,7,8,9,11,12,14,...</script>
</p>

<p>
<script type="math/tex; mode=display">+1,+2,+1,+2,+1,+1,+2,+1,+2,...</script>
</p>

<p>More on these sequences in a moment.</p>

<h4>Beatty sequences <a id=“toc-section-2" class="toc-section”></h4>

<p>The sequence of natural numbers $\lfloor \alpha n\rfloor$ has a special name when $\alpha\notin\mathbb Q$ and $n$ ranges over the natural numbers: it is called a <strong>Beatty Sequence</strong>. These sequences have several nice properties which I will list briefly below, but I won’t go through the trouble of proving them, mainly because the proofs are not very complex and kinda tedious, and I’m trying to keep this post short. You can try to prove them as exercises, if you’re interested.</p>

<ol>
<li>$\lfloor \alpha n \rfloor$ differs from $\alpha n$ by at most $1$, and it is always less than $\alpha n$.</li>
<li>The two Beatty Sequences $\lfloor \alpha n\rfloor$ and $\lfloor \beta n\rfloor$ form a partition of the natural numbers (that is, each natural number appears in exactly one of the two sequences) if and only if $\alpha^{-1}+\beta^{-1}=1$. This is the <strong>Rayleigh Theorem</strong> and a proof can be found <a href="https://en.wikipedia.org/wiki/Beatty_sequence">here on Wikipedia</a>.</li>
<li>The finite differences $\lfloor \alpha (n+1)\rfloor - \lfloor \alpha n\rfloor$ of a Beatty Sequence are always equal to either $\lfloor \alpha\rfloor +1$ or $\lfloor \alpha\rfloor$.</li>
<li>The above finite difference equals $\lfloor \alpha\rfloor + 1$ if $n$ is in the Beatty Sequence $\lfloor (1/{\alpha})n\rfloor$ (where ${\alpha}$ is the “fractional part” of $\alpha$, defined as $\alpha-\lfloor\alpha\rfloor$), and $\lfloor \alpha\rfloor$ otherwise.</li>
<li>The finite differences of Beatty Sequences are aperiodic (i.e. the sequence of finite differences never repeats itself), which follows from the fact that $\alpha$ is irrational.</li>
</ol>

<p>The Rayleigh Theorem allows us to prove one interesting identity involving the series we considered earlier. Let’s consider this series as a function of $\alpha$ and $x$, defined as follows:</p>

<p>
<script type="math/tex; mode=display">A(\alpha,x):= \sum_{n=1}^\infty x^{\lfloor \alpha n\rfloor}</script>
</p>

<p>We know that the Beatty Sequences $\lfloor \alpha^{-1}n\rfloor$ and $\lfloor (1-\alpha)^{-1} n\rfloor$ form a partition of the natural numbers, by the Rayleigh Theorem. This means that</p>

<p>
<script type="math/tex; mode=display">\sum_{n=1}^\infty x^{\lfloor \alpha^{-1} n\rfloor}+\sum_{n=1}^\infty x^{\lfloor (1-\alpha)^{-1} n\rfloor}=\sum_{n=1}^\infty x^n</script>
</p>

<p>Because every natural number appears in exactly one of the two sequences, each of the terms $x^n$ with $n\in\mathbb N$ appears exactly once in the sum of the two series, turning it into a simple geometric series. We may write this identity as a functional equation of $A$:</p>

<p>
<script type="math/tex; mode=display">A(\alpha^{-1},x)+A((1-\alpha)^{-1},x)=\frac{x}{1-x}</script>
</p>

<p>Other cool identities of similar series can be proven using the properties of Beatty Sequences that we’ve listed so far, such as the following:</p>

<p>
<script type="math/tex; mode=display">\sum_{n=1}^\infty \lfloor n\alpha\rfloor x^n = \frac{x}{1-x}A(\alpha^{-1},x)</script>
</p>

<p>Try to prove this as an exercise if you want, but we’ll prove it later using a totally different (and, in my opinion, much more powerful) technique.</p>

<h4>Exploiting staircase behavior <a id=“toc-section-3" class="toc-section”></h4>

<p>In this section, I’ll describe an awesome technique that I first saw in <a href="https://www.math.csi.cuny.edu/~obryant/Mathematician/Papers/GFTBSOSS/GFTBSOSS.pdf">this paper</a> by Dr. Kevin O’Bryant. In subsequent sections, I’ll define a few “special functions” and show how this technique can be used to evaluate a wide variety of series related to Beatty Sequences in terms of these functions, and find other series identities and functional equations related to them.</p>

<p>The floor function $\alpha\mapsto \lfloor \alpha\rfloor$ is often referred to as a “staircase function” because its graph consists of a sequence of horizontal line segments (each of which contains its leftmost endpoint, but not its rightmost). This function has zero slope everywhere, but it increases by means of discontinuous “jumps” that occur at integer arguments. Note that</p>

<p>
<script type="math/tex; mode=display">\lim_{h\to 0} \Big(\lfloor \alpha\rfloor - \lfloor \alpha-h\rfloor\Big) = \begin{cases} 1 & \alpha\in\mathbb Z \\ 0 & \text{else}\end{cases}</script>
</p>

<p>which is just another way of saying that the floor function has unit-sized “jumps” at the integers and no jumps elsewhere. Not only does it have no other discontinuous “jumps”, but it is also flat everywhere else (i.e. it has zero derivative, or zero slope, or is constant in between its “jumps”).</p>

<p>The graph of the function $\alpha\mapsto \lfloor\alpha n\rfloor$ also looks like a staircase, but with shorter steps (the line segments in this graph have length $1/n$, instead of unit length). The discontinuous unit “jumps” of this function occur not when $\alpha$ is an integer, but when $\alpha$ is an integer multiple of $1/n$.</p>

<p>Finally, consider the function $\alpha\mapsto x^{\lfloor \alpha n\rfloor}$. Again, this function has discontinuous jumps when $n$ is an integer multiple of $1/n$, but these jumps are not necessarily of unit size. Instead, we have</p>

<p>
<script type="math/tex; mode=display">\lim_{h\to 0} \Big(x^{\lfloor \alpha n\rfloor} - x^{\lfloor (\alpha-h) n\rfloor}\Big) = \begin{cases} x^{n\alpha}(1-\frac{1}{x}) & \alpha n \in\mathbb Z \\ 0 & \text{else}\end{cases}</script>
</p>

<p>Finally, we are in a good position to consider the function that we defined earlier:</p>

<p>
<script type="math/tex; mode=display">A(\alpha,x) = \sum_{n=1}^\infty x^{\lfloor \alpha n\rfloor}</script>
</p>

<p>Consider $A$ as a function of varying $\alpha$, with $x$ held constant. The term $x^{\lfloor n\alpha\rfloor}$ has a “jump” discontinuity at the integer multiples of $1/n$, meaning that this infinite sum has jump discontinuities at all integer multiples of $1/n$ where $n$ is any natural number. In other words, $A$ has a jump discontinuity at <em>every rational value</em> $\alpha=p/q$! Can we figure out how much it “jumps” by as $\alpha$ increases from $p/q-h$ to $p/q$, for small $h$?</p>

<p>Well, we know that at $\alpha=p/q$, the term $x^{\lfloor \alpha n\rfloor}$ has a jump discontinuity if and only if $\alpha$ is a multiple of $1/n$. This is true if and only if $n$ is a multiple of $q$, or $n=qk$ for some integer $k$. If we denote the “jump” of $A$ at $\alpha=p/q$ as $\Delta A(p/q,x)$, this allows us to conclude that</p>

<p>
<script type="math/tex; mode=display">\Delta A(p/q,x)=\sum_{k=1}^\infty x^{\lfloor (p/q)qk\rfloor}\Big( 1-\frac{1}{x}\Big)</script>
</p>

<p>Using the fact that $\lfloor (p/q)qk\rfloor = pk$, this sum becomes an infinite series, allowing us to conclude that</p>

<p>
<script type="math/tex; mode=display">\Delta A(p/q,x) = \Big( 1-\frac{1}{x}\Big)\frac{x^p}{1-x^p}</script>
</p>

<p>So we know the values of all of the “jumps” of $A$! Great, what does this get us?</p>

<p>Well, recall that all of the terms of $A$ are “flat” everywhere, that is, they have zero slope/derivative. This means that all increases in the value of $A$ are caused by one or more of the “jumps” we’ve discussed. In particular, if we know the value of $A(\alpha_0,x)$ and we want to know the value of $A(\alpha_1,x)$ for some $\alpha_1 &gt; \alpha_0$, we can just start with the value of $A(\alpha_0,x)$ and add up the sizes of all of the jumps between $\alpha=\alpha_0$ and $\alpha=\alpha_1$, which will give us the value of $A(\alpha_1,x)$! In other words,</p>

<p>
<script type="math/tex; mode=display">A(\alpha_1,x)=A(\alpha_0,x) + \sum_{\alpha_0 \lt p/q \le \alpha_1} \Big(1-\frac{1}{x}\Big)\frac{x^p}{1-x^p}</script>
</p>

<p>Where the summation on the RHS is taken over rational numbers $p/q$ in simplest form (i.e. with $p,q$ coprime). Since $|x|&lt;1$, the value of $A(\alpha,x)$ approaches $0$ as $\alpha\to\infty$, meaning that if we let $\alpha\to\infty$ in the above expression, we obtain</p>

<p>
<script type="math/tex; mode=display">0=A(\alpha_0,x) + \sum_{\alpha_0 \lt p/q } \Big(1-\frac{1}{x}\Big)\frac{x^p}{1-x^p}</script>
</p>

<p>Rearranging a bit, and replacing $\alpha_0$ with $\alpha$, we have that</p>

<p>
<script type="math/tex; mode=display">\bbox[lightgray,10px]{A(\alpha,x) =\Big(\frac{1}{x}-1\Big) \sum_{\alpha \lt p/q } \frac{x^p}{1-x^p}}\tag{i}</script>
</p>

<p>We’ve rewritten this quasi-geometric series as a summation taken over all rational numbers greater than a certain real number $\alpha$! Take a moment to convince yourself that the summation on the RHS actually converges. For convenience later in the post, we’ll define an normalized form of the function $A$, which we’ll call $\tilde{A}$, which isolates just this series:</p>

<p>
<script type="math/tex; mode=display">\tilde{A}(\alpha,x):=\frac{x}{1-x}A(\alpha,x)=\sum_{\alpha \lt p/q } \frac{x^p}{1-x^p}</script>
</p>

<p>Just in case the sum over rationals on the RHS looks nasty to you and its utility is unclear, I’ll now use this technique to briefly prove the series identity stated as an exercise at the end of the previous section. Consider the series-defined function</p>

<p>
<script type="math/tex; mode=display">D(\alpha,x):=\sum_{n=1}^\infty \lfloor \alpha n\rfloor x^n</script>
</p>

<p>The term $\lfloor \alpha n\rfloor x^n$ is a staircase function of $\alpha$, with a “jump” at the integer multiples of $1/n$ of magnitude $x^n$. This means that $D$ has jumps at all rational values $\alpha=p/q$, with magnitudes given by</p>

<p>
<script type="math/tex; mode=display">\Delta D(p/q,x)=\sum_{k=1}^\infty pkx^{qk}-(pk-1)x^{qk}=\frac{x^q}{1-x^q}</script>
</p>

<p>Using similar reasoning to before, we may conclude that</p>

<p>
<script type="math/tex; mode=display">D(\alpha_1,x)=D(\alpha_0,x) + \sum_{\alpha_0 \lt p/q \le \alpha_1} \frac{x^q}{1-x^q}</script>
</p>

<p>If we notice that $D(0,x)=0$, we may substitute $\alpha_0\to 0$ and $\alpha_1\to \alpha$ in the above expression to obtain</p>

<p>
<script type="math/tex; mode=display">D(\alpha,x)=\sum_{0 \lt p/q \le \alpha} \frac{x^q}{1-x^q}</script>
</p>

<p>However, notice that the condition $0\lt p/q\le \alpha$ is equivalent to the condition $1/\alpha \lt q/p$, allowing us to write</p>

<p>
<script type="math/tex; mode=display">D(\alpha,x)=\sum_{1/\alpha \lt q/p} \frac{x^q}{1-x^q}</script>
</p>

<p>or, equivalently,</p>

<p>
<script type="math/tex; mode=display">D(\alpha,x)=\sum_{1/\alpha \lt p/q} \frac{x^p}{1-x^p}\tag{ii}</script>
</p>

<p>Now notice: this exact same sum over rational numbers appears in the formula we derived for $A$, but with an argument of $\alpha$ instead of $1/\alpha$! Thus, combining (i) and (ii) allows us to deduce that</p>

<p>
<script type="math/tex; mode=display">D(\alpha,x)=\frac{x}{1-x}A(\alpha^{-1},x)</script>
</p>

<p>or</p>

<p>
<script type="math/tex; mode=display">\bbox[lightgray,10px]{\sum_{n=1}^\infty \lfloor \alpha n\rfloor x^n = \frac{x}{1-x}\sum_{n=1}^\infty x^{\lfloor n/\alpha\rfloor}}</script>
</p>

<p>Crazy! We’ll soon use sums over rational numbers to derive several other more complex series identities like this (which, unlike this one, would be infeasible to prove using just simple known properties of Beatty Sequences). Stay tuned.</p>

<h4>Four auxiliary functions <a id=“toc-section-4" class="toc-section”></h4>

<p>I’d like to define the following four “auxiliary” functions as follows, because I’ve noticed that many Beatty-related sums can be expressed in terms of values of these functions:</p>

<p>
<script type="math/tex; mode=display">\theta_{\color{blue}{0}\color{red}{0}}(\alpha,x):=\sum_{p/q>\alpha, \space \color{blue}{q\text{ even}}}\frac{x^p}{1 {\color{red}{-}} x^p}</script>
</p>

<p>
<script type="math/tex; mode=display">\theta_{\color{blue}{0}\color{red}{1}}(\alpha,x):=\sum_{p/q>\alpha, \space \color{blue}{q\text{ even}}}\frac{x^p}{1 {\color{red}{+}} x^p}</script>
</p>

<p>
<script type="math/tex; mode=display">\theta_{\color{blue}{1}\color{red}{0}}(\alpha,x):=\sum_{p/q>\alpha, \space \color{blue}{q\text{ odd}}}\frac{x^p}{1 {\color{red}{-}} x^p}</script>
</p>

<p>
<script type="math/tex; mode=display">\theta_{\color{blue}{1}\color{red}{1}}(\alpha,x):=\sum_{p/q>\alpha, \space \color{blue}{q\text{ odd}}}\frac{x^p}{1 {\color{red}{+}} x^p}</script>
</p>

<p>From the summation representation of $\tilde{A}$ that we determined earlier, we may immediately see how to express $\tilde{A}$ in terms of these functions:</p>

<p>
<script type="math/tex; mode=display">\bbox[lightgray,10px]{\tilde{A}(\alpha,x)=\theta_{00}(\alpha,x)+\theta_{10}(\alpha,x)}</script>
</p>

<p>because the sum $\theta_{00}$ covers the case of fractions $p/q$ with even denominators, and the sum $\theta_{10}$ covers the case with odd denominators, meaning that together they cover all rational numbers $p/q&gt;\alpha$. </p>

<p>It happens that we can derive another relation relating $\tilde{A}$ to the $\theta$ functions, in a way that is inequivalent to the above identity. Consider what happens to $\tilde{A}$ when the argument $\alpha$ is doubled. Through the following sequence of manipulations of the rational numbers over which the summand ranges, we can deduce the following:</p>

<p>
<script type="math/tex; mode=display">\begin{align}
\tilde{A}(2\alpha,x) &= \sum_{p/q>2\alpha} \frac{x^p}{1-x^p} \\
&= \sum_{(p/2)/q>\alpha,\space p\text{ even}} \frac{x^p}{1-x^p} + \sum_{p/2q>\alpha, \space p\text{ odd}} \frac{x^p}{1-x^p}\\
&= \sum_{p/q>\alpha,\space q\text{ odd}} \frac{x^{2p}}{1-x^{2p}} + \sum_{p/q>\alpha,\space q\text{ even}} \frac{x^p}{1-x^p} \\
&= \theta_{10}(\alpha,x^2) + \theta_{00}(\alpha,x)
\end{align}</script>
</p>

<p>First, we split the sum over rationals into two cases - one in which the numerator is even, and one in which it is odd. When the numerator is even, then the simplest-form fraction that results from dividing $p/q$ by $2$ is given by $(p/2)/q$, i.e. the numerator is halved. When the numerator is odd, however, the resulting fraction is $p/2q$, and the denominator is doubled. Since the summand depends only on the numerator $p$ and not the denominator $q$, the former transformation alters the summand, whereas the latter does not. Thus, we have the following identity:</p>

<p>
<script type="math/tex; mode=display">\bbox[lightgray,10px]{\tilde{A}(\alpha,x)=\theta_{00}(\alpha,x)+\theta_{10}(\alpha,x)}</script>
</p>

<p>By combining this with our previous identity linking $\tilde{A}$ to $\theta_{00}$ and $\theta_{11}$, we may obtain the following corollary:</p>

<p>
<script type="math/tex; mode=display">\bbox[lightgray,10px]{\theta_{00}(\alpha,x)-\theta_{00}(2\alpha,x)=\theta_{10}(2\alpha,x)-\theta_{10}(\alpha,x^2)}</script>
</p>

<p>Let's do one more example. Consider the following series-defined function which is similar to $A$:</p>

<p>
<script type="math/tex; mode=display">B(\alpha,x):= \sum_{n=1}^\infty x^{\lfloor \alpha (2n-1)\rfloor}</script>
</p>

<p>Let's begin by finding a representation for $B$ in terms of a sum over the rational numbers. We must first find out when the nth term of the sum, $x^{\lfloor \alpha (2n-1)\rfloor}$ has "jumps" as $\alpha$ increases. Using our explorations of the floor function earlier, we know that this function of $\alpha$ has "jumps" whenever $\alpha$ is an integer multiple of $1/(2n-1)$ - in other words, whenever $\alpha$ is a rational number whose denominator evenly divides $2n-1$, or when $\alpha=p/q$ with $q|2n-1$. Since $q$ must be odd, we may write $2n-1=q(2k-1)$ for some natural number $k$, in which case the "jump" at this value of $\alpha$ equals $x^{p(2k-1)}(1-1/x)$. This allows us to write</p>

<p>
<script type="math/tex; mode=display">\Delta B(p/q,x)=\sum_{k=1}^\infty x^{p(2k-1)}\Big(1-\frac{1}{x}\Big)=\Big(1-\frac{1}{x}\Big)\frac{x^p}{1-x^2p}</script>
</p>

<p>
<script type="math/tex; mode=display">\begin{align}
B(\alpha,x) &= \Big(\frac{1}{x}-1\Big)\sum_{p/q>\alpha,\space q\text{ odd}} \frac{x^p}{1-x^2p}\\
&= \Big(\frac{1}{x}-1\Big) \sum_{p/q>\alpha,\space q\text{ odd}} \frac{1}{2}\Big(\frac{x^p}{1-x^p}+\frac{x^p}{1+x^p}\Big)\\
&= \Big(\frac{1}{x}-1\Big)\Bigg(\frac{1}{2}\sum_{p/q>\alpha,\space q\text{ odd}} \frac{x^p}{1-x^p} + \frac{1}{2}\sum{p/q>\alpha,\space q\text{ odd}} \frac{x^p}{1+x^p}\Bigg) \\
&= \Big(\frac{1}{x}-1\Big)\frac{\theta_{10}(\alpha,x)+\theta_{11}(\alpha,x)}{2}
\end{align}</script>
</p>

<p>If we again define a normalized version of $B$ as $\tilde{B}=\frac{x}{1-x}B$, then we have</p>

<p>
<script type="math/tex; mode=display">\bbox[lightgray,10px]{\tilde{B}(\alpha,x) = \frac{\theta_{10}(\alpha,x)+\theta_{11}(\alpha,x)}{2}}</script>
</p>

<p>Here's another example - I won't go through the trouble of proving this one, but the proof is very similar. If we define</p>

<p>
<script type="math/tex; mode=display">C(\alpha,x)=\sum_{n=1}^\infty x^{\lfloor \alpha n + 1/2\rfloor}</script>
</p>

<p>then the normalized version of $C$, defined as $\tilde{C}:=\frac{\sqrt{x}}{1-x}C$, satisfies</p>

<p>
<script type="math/tex; mode=display">\bbox[lightgray,10px]{\tilde{C}(\alpha,x^2)=\frac{\theta_{00}(\alpha,x)+\theta_{01}(\alpha,x)}{2}}</script>
</p>

<h4>Additional identities <a id="toc-section-5" class="toc-section"></a></h4>

<p>I've derived several more interesting identities involving $\tilde{A}, \tilde{B}, \tilde{C}$, and the $\theta$ functions, more than I care to prove algebraically in this post. However, I'll document the most interesting ones here. If you're curious how they're derived, try to figure them out yourselves - the techniques are very similar, but some of them involve more sophisticated manipulations of the rational numbers $p/q$ over which the summations are taken, and more involved parity-related casework. Here are my favorites:</p>

<p>
<script type="math/tex; mode=display">\theta_{10}(2\alpha,x)-\theta_{10}(\alpha,x^2)=\theta_{00}(\alpha,x)-\theta_{00}(2\alpha,x)</script>
<script type="math/tex; mode=display">\theta_{11}(2\alpha,x)-\theta_{11}(\alpha,x^2)=\theta_{01}(\alpha,x)-\theta_{01}(2\alpha,x)</script>
<script type="math/tex; mode=display">\tilde{B}(2\alpha,x)-\tilde{B}(\alpha,x^2)=\tilde{C}(\alpha,x^2)-\tilde{C}(2\alpha,x^2)</script>
<script type="math/tex; mode=display">\sum_{n=1}^\infty \lfloor \alpha(2n-1)\rfloor x^n = \tilde{B}(\alpha^{-1},x)+\tilde{C}(\alpha^{-1},x^2)-\tilde{B}(\alpha^{-1}/2,x^2)</script>
<script type="math/tex; mode=display">\sum_{n=1}^\infty \lfloor \alpha n +1/2\rfloor x^n = \tilde{B}(\alpha^{-1}/2,x)</script>
<script type="math/tex; mode=display">\sum_{n=1}^\infty x^{\lfloor \alpha n\rfloor}y^{\lfloor 2\alpha n\rfloor} = \Big(\frac{1}{xy}-1\Big)\tilde{A}(\alpha,xy^2)+\Big(\frac{1}{y}-1\Big)\frac{1}{\sqrt{x}}\tilde{C}(\alpha,xy^2)</script>
<script type="math/tex; mode=display">\sum_{n=1}^\infty (\lfloor 2\alpha n\rfloor - 2\lfloor \alpha n\rfloor)x^{\lfloor \alpha n\rfloor} = \frac{1}{x}\tilde{A}(\alpha,x)-\frac{1}{\sqrt{x}}\tilde{C}(\alpha,x)</script>
</p>

<p>That's all I've got for now! If I come up with more cool identities later, I'll post them here.</p>

    <br>
<a href="/">go to homepage</a>
<hr>
<div id="license-statement">The posts on this website are licensed under <a href="https://creativecommons.org/licenses/by-nc/4.0/">CC-by-NC 4.0</a>.</div>
<div id="notbyai"><a href="https://notbyai.fyi/"><img src="/img/written-by-human.png"/><img src="/img/illustrated-by-human.png"/></a></div>
</body>
</html>
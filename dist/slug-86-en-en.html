<html>
<head>
    <title>Extension of Summation Bounds</title>
    <link rel="stylesheet" type="text/css" href="/css/style.css" />
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]},
      processEscapes: true,
      menuSettings: { inTabOrder: false },
      "AssistiveMML": {
         disabled: false,
         styles: {
            ".MJX_Assistive_MathML": {
                position:"absolute!important",
                clip: (MathJax.Hub.Browser.isMSIE && (document.documentMode||0) < 8 ?
                    "rect(1px 1px 1px 1px)" : "rect(1px, 1px, 1px, 1px)"),
                padding: "1px 0 0 0!important",
                border: "0!important",
                height: "1px!important",
                width: "1px!important",
                overflow: "hidden!important",
                display:"block!important"
            }
        }
      }
    });
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, type=text/html" charset="UTF-8">
    <link rel="stylesheet" href="/css/style.css">
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>
    <!-- Cloudflare Web Analytics -->
    <script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "5b8562dcfaa5413ba2aea8294b9d585e"}'></script><!-- End Cloudflare Web Analytics -->
</head>
<body>
    <h2>Extension of Summation Bounds</h2>

<p><em>2017 June 11</em></p>

<p>Before we jump in, I would like to demonstrate a few things about the integral of the ceiling function because it will soon be of importance and it will be convenient to have already established facts and to be able to use them. Notice that any function of the form
<script type="math/tex; mode=display">f(\lceil x\rceil)</script>
when plotted in the coordinate plane consists of a number of line segments, each one unit long. The integral of such a function can be obtained easily using geometrical analysis. If you interpret
<script type="math/tex; mode=display">\int_0^n f(\lceil x\rceil)dx</script>
as the area between $f(\lceil x\rceil)$ and the x-axis, it is easy to observe that a number of rectangles can be drawn, with one corresponding to each unit line segment. However, if $n$ is not an integer, you will have $\lfloor n\rfloor$ whole rectangles and a partial rectangle with width ${n}$. Thus the area is
<script type="math/tex; mode=display">\int_0^n f(\lceil x\rceil)dx=\{n\}f(\lceil n\rceil)+\sum_{x=0}^{\lfloor n\rfloor}</script>
where ${n}f(\lceil n\rceil)$ represents the area of the partial rectangle and the sum represents the sum of the areas of the other rectangles. We will be using this discovery again later.</p>

<p>As it is currently used, the use of sigma notation to represent summations with discrete values being summed (as opposed to integrals, which sum an infinite number of infinitely small values) in the form
<script type="math/tex; mode=display">\sum_{x=a}^b f(x)</script>
is defined only for $b \ge a$ with $a,b \in \mathbb N$.
But what if we wanted to find an appropriate extension of this notation so as to give meaning to such a sum for all $a,b \in \mathbb R$?</p>

<p>This extension is not difficult to make for $a \le b$, since the sum could simply be carried out "backwards". In fact, we could even use the property of integrals
<script type="math/tex; mode=display">\int_a^b f(x)dx=-\int_b^a f(x)dx</script>
to define a similar property for Riemann sums:
<script type="math/tex; mode=display">\sum_{x=a}^b f(x)=-\sum_{x=b}^a f(x)</script>
The real trouble arises when we try to define Riemann sums with non-integer upper and lower bounds. If we had a non-integral upper bound, we certainly couldn't just calculate the sum using brute force, since the meaning attributed to sigma notation depends on a whole number of discrete values. If the upper bound is not an integer, when do we stop summing?</p>

<p>Before I dive in, I would like to note the property of Riemann sums
<script type="math/tex; mode=display">\sum_{x=a}^b f(x)=\sum_{x=a+c}^{b+c} f(x-c)</script>
Which allows us to turn any summation with non-integer upper and lower bounds into an equivalent summation with an integer lower bound. If we let ${x}$ denote the "fractional part" function, then if we have a sum
<script type="math/tex; mode=display">\sum_{x=a}^b f(x)</script>
Where both $a$ and $b$ are non-integers, because $a=\lfloor a\rfloor +{a}$, we can change this sum to
<script type="math/tex; mode=display">\sum_{x=\lfloor a\rfloor}^{b-\{a\}} f(x+\{a\})</script>
Thus changing the lower bound to an integer. We can take this even further and change the sum to
<script type="math/tex; mode=display">\sum_{x=1}^{b-a+1} f(x+a-1)</script>
Which shows that any summation with non-integral upper <em>and</em> lower bounds can be changed into a summation with a lower bound of $1$ and a non-integral (or sometimes integral) upper bound. Thus when I establish the meaning of a Riemann sum with a lower bound of $1$ and a non-integral upper bound, I am also establishing that of all Riemann sums with any real upper and lower bounds.</p>

<p>Now let our sum be written
<script type="math/tex; mode=display">S(n)=\sum_{x=1}^n f(x)</script>
We may at first be tempted to find the closed-form formula for the sum for integral $n$ and then evaluate it at non-integral values, but this is not necessarily correct, because many of the tricks that we use to evaluate such sums are dependent on a definite number of values being summed and thus an integer values of $n$, making any formula found in such a way reliable only for integral $n$. For example, suppose we wish to extend
<script type="math/tex; mode=display">S(n)=\sum_{x=1}^n x</script>
To non-integral $n$, and in order to do this, we decide to find a formula. We might use the "gaussian pairing" trick to expand the sum
<script type="math/tex; mode=display">1+2+3+...+n-2+n-1+n</script>
and then pair each term with some corresponding term, resulting in the summation formula
<script type="math/tex; mode=display">\sum_{x=1}^n x=\frac{n(n+1)}{2}</script>
Then we may decide to evaluate this sum at some non-integral value of $n$ to find the sum we are looking for. But this is not justified! The "gaussian pairing" trick assumes an integral number of terms, and the pairing cannot happen if we do not know exactly how many terms there are in our sum.</p>

<p>The method that I am proposing relies on turning the summation into an integral. Notice that if we have a Riemann sum
<script type="math/tex; mode=display">S(n)=\sum_{x=1}^n f(x)</script>
we can say, at least for integral $n$, that
<script type="math/tex; mode=display">S(n)=\sum_{x=1}^{2n} \frac{1}{2}f\bigg(\bigg\lceil\frac{x}{2}\bigg\rceil\bigg)</script>
or, in fact, that
<script type="math/tex; mode=display">S(n)=\sum_{x=1}^{kn} \frac{1}{k}f\bigg(\bigg\lceil\frac{x}{k}\bigg\rceil\bigg)</script>
Do you see what we can do now? No matter how high $k$ goes, the sum stays the same. Thus we can take
<script type="math/tex; mode=display">S(n)=\lim_{k\to\infty} \sum_{x=1}^{kn} \frac{1}{k}f\bigg(\bigg\lceil\frac{x}{k}\bigg\rceil\bigg)</script>
and the integer values remain the same. This, in turn, can be transformed into an integral:
<script type="math/tex; mode=display">S(n)=\int_{0}^{n} f(\lceil x\rceil)</script>
And integrals are defined for non-integral $n$ as well as for integral $n$.
There is one possible flaw in this approch. It is not obvious that the identity
<script type="math/tex; mode=display">\sum_{x=1}^n f(x)=\sum_{x=1}^{kn} \frac{1}{k}f\bigg(\bigg\lceil\frac{x}{k}\bigg\rceil\bigg)</script>
holds for all integral and non-integral $n$, but it is not <em>clearly essential</em> that $n$ be integral for us to apply this, whereas it is <em>clearly essential</em> that $n$ must be an integer for us to utilize some trick like gaussian pairing that requires correspondence between the terms of a sum. Though this solution may not be <em>perfect</em>, it is less dependent on $n$ being an integer than the alternate approach.</p>

<p>Now that we have obtained
<script type="math/tex; mode=display">S(n)=\int_{0}^{n} f(\lceil x\rceil)</script>
we can use the formula that we obtained at the beginning of this post to say that
<script type="math/tex; mode=display">S(n)=\{n\}f(\lceil n\rceil)+\sum_{x=0}^{\lfloor n\rfloor}</script>
This is the definition that I wish to establish. My proposition is that the Riemann sum
<script type="math/tex; mode=display">S(n)=\sum_{x=1}^n f(x)</script>
be defined as
<script type="math/tex; mode=display">\{n\}f(\lceil n\rceil)+\sum_{x=0}^{\lfloor n\rfloor}</script>
for non-integral $n$. We can see that the two are equal for integral $n$ very easily, and it seems that this parallel may be drawn for non-integral $n$ as well.</p>

<p>One last interesting thing should be noted. If one uses my proposed definition of a Riemann sum with a non-integral upper bound to plot a graph in a coordinate plane, the graph appears in a very pleasing way. This graph is the same as that of the graph obtained by plotting the points for integral $n$ only and connecting the consecutive points with line segments.</p>

<p>Anyways, that is how I believe these sums should be defined. It is possible, even likely, that there exists a better interpretation, but I believe that for now, this one is good enough to replace the evaluation of closed-form formulas evaluated at inappropriate values.</p>

    <br>
<a href="/">go to homepage</a>
<hr>
<div id="license-statement">The posts on this website are licensed under <a href="https://creativecommons.org/licenses/by-nc/4.0/">CC-by-NC 4.0</a>.</div>
<div id="notbyai"><a href="https://notbyai.fyi/"><img src="/img/written-by-human.png"/><img src="/img/illustrated-by-human.png"/></a></div>
</body>
</html>